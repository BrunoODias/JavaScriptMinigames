<html><head>
    <link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="m-auto mt-5" id="Page" style="width: 30rem;border: solid 1px;height: 40rem;">
        <div style="height: calc(100% - 4rem);overflow-y: hidden;" id="tela">
        <div style="height: 5000rem;background: url('Images/Road.png');">
            <img src="Images/Carro3.png" style="top: 526px;position: absolute;left: 335px;height: 4rem;transform: rotate(90deg);" id="Carro"></div>
        </div>
        <div style="display: flex;border-top: solid 1px;">
            <div style="width: 5rem;height: 4rem;border-right: solid 1px;font-size: 2rem;text-align: center;">&lt;</div>
            <div style="width: calc(100% - 10rem);text-align: center;font-size: 1.3rem;padding-top: 0.8rem;">
                Dist√¢ncia percorrida: 0.2km
            </div>
            <div style="width: 5rem;height: 4rem;border-left: 1px solid;font-size: 2rem;text-align: center;">&gt;</div>
        </div>
    </div>

</body>
<script>
    var interval = null;
    var tela = document.getElementById('tela');
    
    function Init(){
        tela.scrollBy(0,9999999);
        SetVel(20);
    };
    
    function SetVel(miliseconds){
        if(interval != null){
            clearInterval(interval);
        }
        var interval = setInterval(()=>{
            tela.scrollBy(0,-1);
        },miliseconds);
    }
    Init();

    var getDirection = (el, prop)=>Number(el.style[prop]?.replace('px',''));
    var setDirection = (el,prop,value)=>el.style[prop] = (value + 'px');

    var carro = document.getElementById('Carro'), x=335, y=526;

    var dirx = 0, diry = 0;

    function MoveCarro(){
        setDirection(carro,'left', getDirection(carro,'left') + (5*dirx));
        setDirection(carro,'top', getDirection(carro,'top') + (5*diry));
    }


    var events = {
        ArrowLeft: ()=>{
            dirx = -1;
        },
        ArrowUp: ()=>{
            diry = -1;
        },
        ArrowRight: ()=>{
            dirx = 1;
        },
        ArrowDown: ()=>{
            diry = 1;
        }
    };


    var eventsUp = {
        ArrowLeft: ()=>{
            dirx = 0;
        },
        ArrowUp: ()=>{
            diry = 0;
        },
        ArrowRight: ()=>{
            dirx = 0;
        },
        ArrowDown: ()=>{
            diry = 0;
        }
    };

    document.addEventListener('keydown',function(e){
        if(events[e.key] != null)
            events[e.key]();
    })

    document.addEventListener('keyup',function(e){
        if(eventsUp[e.key] != null)
            eventsUp[e.key]();
    })

    setInterval(()=>{
        MoveCarro();
    },20);
</script>
</html>